<!doctype html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Emscripten-Generated Code</title>
  
  </head>
  <body>

    
    <img id="SourceImage" src="city.jpg" crossorigin="Anonymous">
    <canvas id="Canvas"></canvas>
    
    <button id="withoutButton">Without</button>
    
    <script type='text/javascript'> 
        //var withoutButton = document.getElementById('withoutButton');
   
          var canvas;
          var context;
          var image = document.getElementById('SourceImage');
          canvas = document.getElementById('Canvas');
          var imageData;
          image.onload = function(){
            context = canvas.getContext('2d');
            context.drawImage(image,0,0);
            
            canvas.width = image.width;
            canvas.height = image.height;
            context.drawImage(image, 0, 0);
            imageData = context.getImageData(0, 0, context.canvas.width, context.canvas.height);
          };
      
          
          console.time('Function #2');
          for (let i = 0; i < imageData.data.length; i += 4) {
              if ( imageData.data[i] < 100) {
                  imageData.data[i] = 255;
                  imageData.data[i + 1] = 255;
                  imageData.data[i + 2] = 255;
              }

              if (imageData.data[i] != 255) {
                  imageData.data[i] = 0;
                  imageData.data[i + 1] = 0;
                  imageData.data[i + 2] = 0; 
              }
              else {
                  imageData.data[i] = 255;
                  imageData.data[i + 1] = 255;
                  imageData.data[i + 2] = 255;
              }

              if (imageData.data[i] == 255) {
                  imageData.data[i] = 0;
                  imageData.data[i + 1] = 0;
                  imageData.data[i + 2] = 0;
              }
              else {
                  imageData.data[i] = 255;
                  imageData.data[i + 1] = 255;
                  imageData.data[i + 2] = 255;
              }
          }

          context.putImageData(imageData, 0, 0);
          console.timeEnd('Function #2')
         
          

        
          
      

       
       

      
//       function myFunctionTWO(imageData){
     
//         for(var i=0; i<20; i++){
//           console.time('Function #2');
//           for (let i = 0; i < imageData.data.length; i += 4) {
//               if ( imageData.data[i] < 100) {
//                   imageData.data[i] = 255;
//                   imageData.data[i + 1] = 255;
//                   imageData.data[i + 2] = 255;
//               }

//               if (imageData.data[i] != 255) {
//                   imageData.data[i] = 0;
//                   imageData.data[i + 1] = 0;
//                   imageData.data[i + 2] = 0; 
//               }
//               else {
//                   imageData.data[i] = 255;
//                   imageData.data[i + 1] = 255;
//                   imageData.data[i + 2] = 255;
//               }

//               if (imageData.data[i] == 255) {
//                   imageData.data[i] = 0;
//                   imageData.data[i + 1] = 0;
//                   imageData.data[i + 2] = 0;
//               }
//               else {
//                   imageData.data[i] = 255;
//                   imageData.data[i + 1] = 255;
//                   imageData.data[i + 2] = 255;
//               }
//           }

//           //context.putImageData(imageData, 0, 0);
//           console.timeEnd('Function #2')

//         }
//       }



//       withoutButton.addEventListener('click', function () {
//         var imageData = context.getImageData(0, 0, context.canvas.width, context.canvas.height);
//         myFunctionTWO(imageData)       
//       });

    </script>
    
    

    
    <script async type="text/javascript" src="add.js"></script>
  </body>
</html>


